# Yext Support Demo using Google DialogFlow
### Softwares Required
- [VS Code](https://code.visualstudio.com/Download) (or any other IDE)
- [Node.js](https://nodejs.org/en/download/)
- [ngrok](https://ngrok.com/download)

## Instructions
### Part 1
- Clone the Repository into local.
- Open it in your favourite editor.
- Open the folder by typing `cd Yext-Dialogflow`.
- Open the index.js file and add your `apiKey` and `experienceKey`. These can be found in **Experience Details** when we open any Experience.
- run `npm install`.
- once all the dependencies are installed, type in **node index.js**

### Part 2
- Unzip ngrok
- paste the file in `/usr/local/bin`
- In terminal, type `./ngrok http 3000`
- Copy the **Forwarding https** link into a notepad.

### Part 3

- Open dialogflow in browser. 
- Click on the created agent, navigate to fulfillment section.
- Enable the webhook by toggling in top right(If disabled).
- Under *url* paste the link copied in *Part 2* appending `/webhook` and save it. 
- It should look something like `https://{someNumbers}.ngrok.io/webhook`.

### Part 4
- Click *Integrations* from the left menu bar.
- Scroll down and select *Dialogflow Messenger Beta*
- In the popup click _Try now_
- This pops up a messenger where we can test the bot.
- This page also has the code snippet generated by DF that we can copy to show in Answers pages.
 <img width="1434" alt="Screenshot 2022-07-19 at 11 53 09 PM" src="https://user-images.githubusercontent.com/17703864/179823125-4ec8680f-6bac-42c0-8e70-328c38a24656.png">
 
### Part 5 (Adding it to Answers page).
- In answers code editor open any `verticalPageName.html.hbs` under `pages` folder to where the bot has to be displayed.
- Scroll to the bottom of the page and paste the code that we copied in *Part 4* last step.
- You can brand the bot by following [this guide](https://cloud.google.com/dialogflow/es/docs/integrations/dialogflow-messenger#css-customize)
